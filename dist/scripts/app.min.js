"use strict";!function(e){var a=["ui.router","ngAnimate"];e.module("app",a)}(angular),function(e){function a(e,a){var t={};t.main={name:"main",url:"/main",template:"<view-main></view-main>"},t.player={name:"player",url:"/player/",template:"<view-player></view-player>"},t.about={name:"about",url:"/about",template:"<view-about></view-about>"},t.game={name:"game",url:"/game",template:"<view-game></view-game>"};for(var n in t)t.hasOwnProperty(n)&&e.state(t[n]);a.otherwise("/main")}e.module("app").config(["$stateProvider","$urlRouterProvider",a])}(angular),function(e){function a(e,a){var t={},n=t;return t.playerData={name:"",email:"",avatar:"unselected"},t.getPlayerData=function(){return n.playerData},t.setPlayerData=function(e){e&&(n.playerData.name=e.name?e.name:"",n.playerData.email=e.email?e.email:"",n.playerData.avatar=e.avatar?e.avatar:"unselected")},t}e.module("app").factory("playerFactory",["$q","$http",a])}(angular),function(e){function a(a,t){function n(e){var a,t,n;for(n=e.length;n;n--)a=Math.floor(Math.random()*n),t=e[n-1],e[n-1]=e[a],e[a]=t;return e}var r={},o=r;return r.originalCards=[{img:"card_00.jpg",type:"a",showCover:!0},{img:"card_01.jpg",type:"b",showCover:!0},{img:"card_02.jpg",type:"c",showCover:!0},{img:"card_03.jpg",type:"d",showCover:!0},{img:"card_04.jpg",type:"e",showCover:!0},{img:"card_05.jpg",type:"g",showCover:!0},{img:"card_06.jpg",type:"h",showCover:!0},{img:"card_07.jpg",type:"i",showCover:!0}],r.getDeck=function(){return n(e.copy(o.originalCards).concat(e.copy(o.originalCards)))},r}e.module("app").factory("cardsFactory",["$q","$http",a])}(angular),function(e){function a(e){this.goToMain=function(){e.go("main")}}e.module("app").component("mainHeader",{templateUrl:"app/components/commons/header/header-template.html",controller:["$state",a],controllerAs:"mainHeader"})}(angular),function(e){function a(e){this.goToAbout=function(){e.go("about")}}e.module("app").component("mainFooter",{templateUrl:"app/components/commons/footer/footer-template.html",controller:["$state",a],controllerAs:"mainFooter"})}(angular),function(e){function a(e,a,t){var n=this;n.$onInit=function(){},n.actions={},n.actions.goToPlayer=function(){e.go("player")}}e.module("app").component("viewMain",{templateUrl:"app/components/main/view-main-template.html",controller:["$state",a],controllerAs:"viewMain"})}(angular),function(e){function a(e,a,t,n){var r=this;r.$onInit=function(){r.cards=n.getDeck(),r.lastCardSelected="unselected",r.gameIsOver=!1,r.results={},r.results.ok=0,r.results.ko=0},r.renders={},r.renders.checkCardPlayer=function(){var e=t.getPlayerData();return!(!e.name&&!e.email&&"unselected"===e.avatar)},r.actions={},r.actions.selectCard=function(e){var t;e.showCover=!1,t=a(function(){e.showCover=!0,r.aux.checkSelected(e),a.cancel(t)},1e3)},r.actions.playAgain=function(){r.cards=n.getDeck(),r.lastCardSelected="unselected",r.gameIsOver=!1,r.results.ok=0,r.results.ko=0},r.aux={},r.aux.checkSelected=function(e){e.type===r.lastCardSelected?(r.aux.removeCards(e.type),r.lastCardSelected="unselected",r.results.ok++):(r.lastCardSelected=e.type,r.results.ko++),r.aux.checkGameOver()},r.aux.removeCards=function(e){r.cards=r.cards.filter(function(a){if(a.type!==e)return!0})},r.aux.checkGameOver=function(){r.gameIsOver=!r.cards.length}}e.module("app").component("viewGame",{templateUrl:"app/components/game/view-game-template.html",controller:["$state","$timeout","playerFactory","cardsFactory",a],controllerAs:"viewGame"})}(angular),function(e){function a(){this.$onInit=function(){}}e.module("app").component("counter",{templateUrl:"app/components/game/counter/counter-template.html",controller:[a],controllerAs:"counter",bindings:{ok:"<",ko:"<"}})}(angular),function(e){function a(e){var a=this;a.$onInit=function(){a.playerData=e.getPlayerData()}}e.module("app").component("playerCard",{templateUrl:"app/components/game/player-card/player-card-template.html",controller:["playerFactory",a],controllerAs:"playerCard"})}(angular),function(e){function a(e,a){var t=this;t.$onInit=function(){t.allAvatar=[{id:0,nick:"garaydos",img:"garaydos.png"},{id:1,nick:"lapras",img:"lapras.png"},{id:2,nick:"snorlax",img:"snorlax.png"}],t.player={},t.player.name="",t.player.email="",t.player.avatar="unselected"},t.actions={},t.actions.goToGame=function(){var n={};n.name=t.player.name,n.email=t.player.email,n.avatar=t.player.avatar,a.setPlayerData(n),e.go("game")}}e.module("app").component("viewPlayer",{templateUrl:"app/components/player/view-player-template.html",controller:["$state","playerFactory",a],controllerAs:"viewPlayer"})}(angular),function(e){function a(e){this.$onInit=function(){}}e.module("app").component("viewAbout",{templateUrl:"app/components/about/view-about-template.html",controller:["$state",a],controllerAs:"viewAbout"})}(angular);